services:
  # ==========================================
  # 游 WEB SERVICE - BLOG API
  # ==========================================
  - type: web
    name: blog-api-nodejs
    runtime: docker
    region: oregon  # O 'virginia' para estar cerca de tu PostgreSQL
    plan: free      # Cambiar a 'starter' para plan pago sin sleep
    branch: main
    
    # DOCKERFILE: Render detecta autom치ticamente el Dockerfile en la ra칤z
    dockerfilePath: ./Dockerfile
    
    # HEALTH CHECK: Endpoint para verificar que la app est치 funcionando
    healthCheckPath: /api/healthchecker
    
    # AUTO DEPLOY: Re-desplegar autom치ticamente en cada push a main
    autoDeploy: true
    
    # ENVIRONMENT VARIABLES
    # 丘멆잺 IMPORTANTE: Por seguridad, configura estas variables manualmente en Render Dashboard
    envVars:
      # Application
      - key: NODE_ENV
        value: production
      
      - key: NEW_RELIC_APP_NAME
        value: CRUD Blog API - Production
      
      - key: NEW_RELIC_ENABLED
        value: "true"
      
      # 丘멆잺 Configurar manualmente en Dashboard (sensibles):
      # - DATABASE_URL (PostgreSQL connection string)
      # - NEW_RELIC_LICENSE_KEY
      # - FRONTEND_URL (opcional)

# ==========================================
# 游닄 NOTAS:
# ==========================================
# 1. Este archivo es OPCIONAL - Render puede configurarse desde el dashboard
# 2. Si usas este archivo, commit칠alo: git add render.yaml && git commit -m "Add Render config"
# 3. Render detectar치 autom치ticamente este archivo y aplicar치 la configuraci칩n
# 4. Para variables sensibles, siempre config칰ralas en el Dashboard (no en este archivo)
